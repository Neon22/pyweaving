
from unittest import TestCase
from pyweaving import find_repeats

# Samples
sample01 = [[1,2,3, 2,3,2,3,2, 3,2,1],
            {2: [[[3, 2], [2, 4, 6, 8]]],
             3: [[[2, 3, 2], [1, 3, 5, 7]]],
             4: [[[3, 2, 3, 2], [2, 4, 6]]],
             5: [[[2, 3, 2, 3, 2], [1, 3, 5]]]}
           ]

sample02 = [[[1,1],[2,1],[3,1],[2,1],[3,1],[2,1],[3,1],[2,1],[3,1],[2,1],[1,1]],
            {3: [[[[2, 1], [3, 1], [2, 1]], [1, 3, 5, 7]]],
             5: [[[[2, 1], [3, 1], [2, 1], [3, 1], [2, 1]], [1, 3, 5]]],
             2: [[[[3, 1], [2, 1]], [2, 4, 6, 8]]],
             4: [[[[3, 1], [2, 1], [3, 1], [2, 1]], [2, 4, 6]]]}
           ]

sample03 = [[1,2,3,4,5,3,4,5,6,7,8,6,7,8,2,3,4,6,7,8,9],
            {3: [[[2, 3, 4], [1, 14]], [[3, 4, 5], [2, 5]], [[6, 7, 8], [8, 11, 17]]],
             2: [[[3, 4], [2, 5, 15]]]}
           ]

sample04 = [[[1,1],[2,1],[3,1],[1,1],[2,1],[3,1],[1,1],[2,1],[3,1],[1,1],[2,1],[3,1]],
            {3: [[[[1, 1], [2, 1], [3, 1]], [0, 3, 6, 9]]],
             6: [[[[1, 1], [2, 1], [3, 1], [1, 1], [2, 1], [3, 1]], [0, 3, 6]], [[[2, 1], [3, 1], [1, 1], [2, 1], [3, 1], [1, 1]], [1, 4]]],
             2: [[[[2, 1], [3, 1]], [1, 4, 7, 10]]],
             5: [[[[2, 1], [3, 1], [1, 1], [2, 1], [3, 1]], [1, 4, 7]]],
             4: [[[[3, 1], [1, 1], [2, 1], [3, 1]], [2, 5, 8]]]}
            ]


# Add new samples/results here
Samples = [sample01, sample02]


class TestRepeats(TestCase):

    def test_samples(self):
        for sample, result in Samples:
            repeats = find_repeats(sample)
            repeats == result
